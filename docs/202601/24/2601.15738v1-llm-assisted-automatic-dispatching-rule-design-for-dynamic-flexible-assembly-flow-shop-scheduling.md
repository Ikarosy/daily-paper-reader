---
title: LLM-Assisted Automatic Dispatching Rule Design for Dynamic Flexible Assembly Flow Shop Scheduling
title_zh: 大语言模型辅助的动态柔性装配流水车间调度自动调度规则设计
authors: "Junhao Qiu, Haoyang Zhuang, Fei Liu, Jianjun Liu, Qingfu Zhang"
date: 2026-01-22
pdf: "https://arxiv.org/pdf/2601.15738v1"
tags: ["keyword:EOH", "keyword:EAA"]
score: 9.0
evidence: 大模型辅助的调度启发式算法自动设计
tldr: 针对动态柔性装配流水线调度中多级供应约束和动态不确定性带来的挑战，本文提出了一种大语言模型辅助的动态规则设计框架（LLM4DRD）。该框架通过异构图转化调度决策，并利用双专家机制（LLM-A生成代码，LLM-S评估调度）进行规则进化。实验证明，该方法在减少平均延期时间方面显著优于现有方法，且在多种复杂场景下表现出极强的鲁棒性。
motivation: 传统的启发式设计方法难以捕捉动态不确定性及多级层级依赖信息，导致在复杂装配调度场景下效果不佳。
method: 提出LLM4DRD框架，结合异构图建模、精英知识引导初始化及双专家进化机制，实现调度规则的自动演化与优化。
result: "在实际案例和480个不同配置的测试场景中，该方法的平均延期性能比现有最优方法提升了3.17%至12.39%。"
conclusion: LLM辅助的规则设计能有效提取具备强泛化能力的自适应调度规则，显著提升动态柔性装配系统的调度效率和鲁棒性。
---

## 摘要
动态多产品交付环境要求在混合加工与装配系统中快速协调零件完工和产品级配套，以满足严格的分层供应约束。柔性装配流水车间调度问题正式定义了多阶段配套的依赖关系，但其动态变体使得在多级时间耦合下设计集成调度规则具有极大的挑战性。现有的自动启发式设计方法，特别是受限于固定终结符集的遗传编程，难以捕捉和利用瞬态决策状态下的动态不确定性和分层依赖信息。本研究开发了一个大语言模型辅助的动态规则设计框架（LLM4DRD），该框架能够自动演化出适应调度特征的集成在线调度规则。首先，基于异构图将多阶段加工和装配供应决策转化为可行的有向边排序。然后，通过精英知识引导的初始化将先进的设计专业知识嵌入初始规则中，以提升初始质量。此外，引入了双专家机制，其中 LLM-A 演化代码生成候选规则，LLM-S 进行调度评估，而动态特征拟合规则演化结合混合评估实现了持续改进，并提取出具有强泛化能力的自适应规则。一系列实验验证了该方法的有效性。在用于训练和测试的 20 个实际实例中，LLM4DRD 的平均延迟性能分别比现有最先进方法高出 3.17-12.39%。在包含不同资源配置、订单负载和扰动水平的 24 个场景（共 480 个实例）中，其性能比次优竞争对手高出 11.10%，展现出卓越的鲁棒性。

## Abstract
Dynamic multi-product delivery environments demand rapid coordination of part completion and product-level kitting within hybrid processing and assembly systems to satisfy strict hierarchical supply constraints. The flexible assembly flow shop scheduling problem formally defines dependencies for multi-stage kitting, yet dynamic variants make designing integrated scheduling rules under multi-level time coupling highly challenging. Existing automated heuristic design methods, particularly genetic programming constrained to fixed terminal symbol sets, struggle to capture and leverage dynamic uncertainties and hierarchical dependency information under transient decision states. This study develops an LLM-assisted Dynamic Rule Design framework (LLM4DRD) that automatically evolves integrated online scheduling rules adapted to scheduling features. Firstly, multi-stage processing and assembly supply decisions are transformed into feasible directed edge orderings based on heterogeneous graph. Then, an elite knowledge guided initialization embeds advanced design expertise into initial rules to enhance initial quality. Additionally, a dual-expert mechanism is introduced in which LLM-A evolutionary code to generate candidate rules and LLM-S conducts scheduling evaluation, while dynamic feature-fitting rule evolution combined with hybrid evaluation enables continuous improvement and extracts adaptive rules with strong generalization capability. A series of experiments are conducted to validate the effectiveness of the method. The average tardiness of LLM4DRD is 3.17-12.39% higher than state-of-the-art methods in 20 practical instances used for training and testing, respectively. In 24 scenarios with different resource configurations, order loads, and disturbance levels totaling 480 instances, it achieves 11.10% higher performance than the second best competitor, exhibiting excellent robustness.

---

## 论文详细总结（自动生成）

这是一份关于论文《LLM-Assisted Automatic Dispatching Rule Design for Dynamic Flexible Assembly Flow Shop Scheduling》的结构化深度总结：

### 1. 论文的核心问题与研究背景
*   **核心问题**：如何在动态环境下，为具有“加工-装配-交付”多级约束的柔性装配流水车间（FAFSP）自动设计高效的派工规则（PDRs）。
*   **研究背景**：
    *   **复杂性**：现代制造业面临小批量定制化需求，订单包含多种异构产品，必须满足严格的配套（Kitting）约束，即订单的交付时间取决于其中最晚完工的产品。
    *   **动态性**：订单随机到达、资源状态瞬息万变，传统的静态调度方法难以应对。
    *   **技术瓶颈**：现有的自动启发式设计（如遗传编程 GP）受限于预定义的符号集，缺乏对动态不确定性的语义理解和跨阶段的逻辑协调能力。

### 2. 论文提出的方法论：LLM4DRD 框架
核心思想是利用大语言模型（LLM）作为“启发式算法设计者”，通过双专家协同进化机制自动生成并优化调度规则。
*   **异构图建模**：将加工和装配决策统一建模为异构图上的有向边排序问题，消除多级供应冲突。
*   **双专家机制（Dual-Expert）**：
    *   **LLM-A（算法专家）**：负责编写 Python 代码形式的调度规则。
    *   **LLM-S（调度专家）**：负责分析调度结果，提供定性的改进建议（如“应加强对交货期的关注”）。
*   **精英知识引导初始化**：不从零开始，而是利用经典规则（如 EDD）的逻辑作为初始种群的基因，加速收敛。
*   **混合评估与特征拟合**：
    *   **定量评估**：在模拟器中计算平均延期时间（Tardiness）。
    *   **定性评估**：LLM-S 对代码逻辑进行语义分析。
    *   **特征输入**：将订单、机器、弧段等 9 维动态特征输入 LLM，使其生成的规则能根据系统状态自适应调整。
*   **进化算子**：通过 Prompt 引导 LLM 执行“优势融合交叉”、“探索性交叉”、“定向优化”和“参数微调”。

### 3. 实验设计
*   **数据集/场景**：
    *   **实际案例**：基于中国某家电制造企业的真实订单结构和资源配置数据。
    *   **合成数据**：通过调整机器数量、柔性因子、订单到达频率（泊松过程）生成多样化场景。
*   **Benchmark（基准方法）**：
    *   **传统规则**：EDD, FIFO, SPT, MOPNR 等 9 种组合规则。
    *   **传统 AHD 方法**：遗传编程（GP）、基因表达式编程（GEP）。
    *   **LLM 辅助方法**：FunSearch, EOH, MCTS-AHD, ReEvo, Random Sample。
*   **对比维度**：收敛速度、平均延期时间、代码准确率、跨场景鲁棒性。

### 4. 资源与算力
*   **硬件**：实验在 Intel Core i5-12600KF 处理器上运行。
*   **模型**：主要使用 **GPT-4o-mini**（通过 API 调用），同时也对比了 Qwen-Max (QW235)、DeepSeek-Chat、Claude 等模型。
*   **训练时长**：文中未明确给出总训练小时数，但提到每个设计任务限制为 200 次采样，且 PDR 规则的推理时间为毫秒级。

### 5. 实验数量与充分性
*   **实验规模**：
    *   针对 20 个核心实例进行了详细的消融实验和方法对比。
    *   针对 **24 种不同工况**（资源配置 × 负载水平 × 扰动强度）进行了扩展测试，总计 **480 个测试实例**。
*   **充分性评价**：实验设计非常充分。不仅对比了传统方法，还对比了最新的 LLM 驱动的算法设计框架；消融实验逐一验证了动态特征、双专家机制、精英初始化等模块的有效性；鲁棒性测试覆盖了极端负载情况，结果具有统计学意义。

### 6. 主要结论与发现
*   **性能卓越**：LLM4DRD 在实际案例中比 SOTA 方法（如 EOH, GP）性能提升了 **3.17% - 12.39%**。
*   **强鲁棒性**：在 480 个变动工况的测试中，LLM4DRD 比次优方法性能高出 **11.10%**，尤其在高负载、高扰动场景下优势更明显。
*   **语义进化的价值**：实验证明，LLM-S 提供的定性反馈能帮助算法跳出局部最优，实现“二次收敛”。
*   **特征敏感性**：动态特征的引入对性能影响最大，证明了自适应规则在动态调度中的必要性。

### 7. 论文优点
*   **闭环反馈**：通过“数值反馈+语义反馈”的双重闭环，解决了传统 AHD 方法缺乏领域知识指导的问题。
*   **可解释性**：生成的规则是 Python 代码，相比 GP 的树结构或神经网络的黑盒，更易于理解和工业部署。
*   **端到端自动化**：实现了从问题描述到可执行代码的自动演化，降低了对调度专家的依赖。

### 8. 不足与局限
*   **API 依赖与成本**：依赖商业 LLM API，存在成本支出和网络延迟风险（虽然文中选用了低成本的 GPT-4o-mini）。
*   **约束覆盖**：虽然考虑了多级配套约束，但尚未涉及机器故障、预防性维护、物料运输时间等更复杂的现实扰动。
*   **搜索空间限制**：目前的规则生成仍基于预设的 Python 函数模板，可能限制了 LLM 创造出完全颠覆性调度逻辑的空间。

（完）
